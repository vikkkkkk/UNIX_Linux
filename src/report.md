## Part 1. Установка ОС
1. 
    * Установка Ubuntu 20.04 Server LTS без графического интерфейса 
    * Проверяем версию Ubuntu командой `cat /etc/issue`<br>
    ![Версия Ubuntu](src/screen/part1.png)<br>*Версия Ubuntu*<br>

## Part 2. Создание пользователя
1. 
    * Создаём нового пользователя командой `sudo adduser new_hsiuayes`<br>
    ![Создание нового пользователя](src/screen/part2.png)<br>*Создание нового пользователя*
    * Вызываем команду `sudo usermod -aG adm new_hsiuayes`<br>
    ![new_hsiuayes даны права администратора](src/screen/part2.1.png)<br>*new_hsiuayes даны права администратора*
    * Вызываем команду `cat /etc/passwd` <br>
    ![Проверка создания пользователя](src/screen/part2.2.png)<br>*Проверка создания пользователя*<br>

## Part 3. Настройка сети ОС
1. 
    * Изменяем название машины на user-1 с помощью команды `hostnamectl set-hostname user-1`<br>
    ![Изменяем название машины](src/screen/part3.png)<br>*Изменяем название машины*
    * Выполняем перезагрузку для сохранения изменений
    * Вызов `cat /etc/hostname` <br>
    ![Проверяем изменение названия машины](src/screen/part3.1.png)<br>*Проверяем изменение названия машины*<br>

2. 
    * Проверяем текущие настройки часового пояса командой `timedatectl`<br>
    ![Проверка часового пояса](src/screen/part3.2.png)<br>*Проверка часового пояса*
    * Устанавливаем нужный часовой пояс командой  `sudo timedatectl set-timezone Europe/Moscow`<br>
    ![Установка часового пояса](src/screen/part3.3.png)<br>*Установка часового пояса*
    * Проверяем изменения командой `timedatectl`<br>
    ![Проверка изменений](src/screen/part3.4.png)<br>*Проверка изменений*<br>

3. 
    * Вывод названия сетевых интерфейсов с помощью команды `ls /sys/class/net`<br>
    ![Названия сетевых интерфейсов](src/screen/part3.5.png)<br>*Названия сетевых интерфейсов*
    * **Loopback** — совокупность методов, нужных для корректной работы маршрутизатора и передачи данных.<br>
    * Сам интерфейс же является отображением логических процессов в маршрутизаторе. Также саму технологию используют и для других целей:<br>
        1) тестирование передачи данных от обслуживающего центра коммутации;<br>
        2) проверка сигнала на расстоянии;<br>
        3) обеспечение работы коммутационных кабелей и их проверка;<br>
        4) тест обратной петли, когда сигнал посылается и возвращается отправителю по всем коммуникационным каналам.<br>

4. 
    * С помощью команды `ip r` получаем ip адрес устройства, на котором мы работаем, от DHCP сервера.<br>
    ![ip-адрес устройства](src/screen/part3.6.png)<br>*ip-адрес устройства*
    * **Dynamic Host Configuration Protocol (DHCP)** - это протокол управления сетью, используемый в сетях TCP/IP, в котором DHCP-сервер динамически присваивает каждому устройству IP-адрес и другие параметры сетевой конфигурации, чтобы они могли связываться с другими IP-сетями.<br>

5. 
    * Выводим внешний(ip) и внутренний(gw) ip-адреса шлюза командами `wget -q -O - inconfig.me/ip` и `ip route | grep default`<br>
    ![ip-адреса шлюза](src/screen/part3.7.png)<br>*ip-адреса шлюза*<br>

6. 
    * Задаем статичные настройки ip, gw, dns командой `sudo nano /etc/resolv.conf`<br>
    ![Редактирование настроек ip, gw и dns](src/screen/part3.8.png)<br>*Редактирование настроек ip, gw и dns*<br>

7. 
    * Перезагружаем виртуальную машину командой `reboot`<br>
    * Проверяем, что статичные сетевые настройки (ip, gw, dns) соответствуют данным, командой  `ping -c 8 1.1.1.1 && ping -c 8 ya.ru`<br>
    ![Проверяем настройки](src/screen/part3.9.png)<br>*Проверяем настройки<br>

## Part 4. Обновление ОС
1. 
    * Командой `sudo apt update` узнаём, сколько есть пакетов обновления<br>
    ![Проверяем пакеты обновления](src/screen/part4.png)<br>*Проверяем пакеты обновления*<br>
    * Обновляем системные пакеты до последней, на момент выполнения задания, версии командой `sudo apt full-upgrade`<br>
    ![Загружаем пакеты обновления](src/screen/part4.1.png)<br>*Загружаем пакеты обновления*<br>
    * Проверяем обновления командой `sudo do-release-upgrade`<br>
    ![Проверяем обновления](src/screen/part4.2.png)<br>*Проверяем обновления*<br>

## Part 5. Использование команды sudo
1. 
    * Разрешаем пользователю(new_hsiuayes), созданному в Part 2, выполнять команду sudo командой `sudo usermod -a -G sudo new_hsiuayes`<br>
    ![Разрешение sudo](src/screen/part5.png)<br>*Разрешение sudo*<br>
    * Переключение на пользователя `su - new_hsiuayes`<br>
    ![Переключение](src/screen/part5.1.png)<br>*Переключение*<br>
    * Изменение и проверка hostname ОС от имени пользователя *new_hsiuayes* `sudo hostname marley`<br>
    ![hostname ОС от имени пользователя new_hsiuayes](src/screen/part5.2.png)<br>*hostname ОС от имени пользователя new_hsiuayes*<br>

## Part 6. Установка и настройка службы времени
1. Настраиваем службу автоматической синхронизации времени<br>
    * Командой `date` вывести время, часового пояса, в котором мы сейчас находимся<br>
    ![Вывод времени](src/screen/part6.png)<br>*Вывод времени*<br>
    * Вывод следующей команды должен содержать **NTPSynchronized=yes**: `timedatectl show`<br>
    ![Вывод команды](src/screen/part6.1.png)<br>*Вывод команды*<br>

## Part 7. Установка и использование текстовых редакторов
1. Устанавдиваем текстовый редактор MCEDIT командой `sudo apt install mc`<br>
    
2. Создаём и редактируем файл с сохранением изменений:<br>
    * **VIM**: создаем файл с помощью команды `vim hsiuayes_vim.txt`<br>
    * Нажимаем на "i" в самом редакторе, для редактирования<br>
    * Пишем свой ник: "hsiuayes"<br>
    Для выхода с сохранением используем команды: `Esc`, `:wq`, `Enter`<br>
    ![VIM](src/screen/part7.png)<br>

    * **NANO**: создаем файл с помощью команды `nano test_nano.txt`<br>
    * Пишем свой ник: "hsiuayes"<br>
    * Для выхода с сохранением используем команды: `ctrl+x`, `Y`, `Enter`<br>
    ![NANO](src/screen/part7.1.png)<br>

    * **MCEDIT**: создаем файл с помощью команды `mcedit test_mcedit.txt`<br>
    * Пишем свой ник: "hsiuayes"<br>
    * Для выхода с сохранением используем команды: `fn+F2`, `Enter`, `fn+F10`<br>
    ![MCEDIT](src/screen/part7.2.png)<br>

3. Редактирование файла с заменой слова без сохранения изменений:<br>
    * **VIM**: открываем файл с помощью команды `vim test_vim.txt`<br>
    * Нажимаем на "i" в самом редакторе, для редактирования<br>
    * Изменяем "hsiuayes" на "21 School 21"<br>
    * Для выхода без сохранения используем команды: `Esc`, **`:q!`**, `Enter`<br>
    ![VIM](src/screen/part7.3.png)<br>

    * **NANO**: открываем файл с помощью команды `nano test_nano.txt`<br>
    * Изменяем "hsiuayes" на "21 School 21"<br>
    * Для выхода без сохранения используем команды: `ctrl+x`, `N`, `Enter`<br>
    ![NANO](src/screen/part7.4.png)<br>

    * **MCEDIT**: открываем файл с помощью команды `mcedit test_mcedit.txt`.<br>
    * Изменяем "hsiuayes" на "21 School 21"<br>
    * Для выхода без сохранения используем команды: `fn+F10`, `No`, `Enter`<br>
    ![MCEDIT](src/screen/part7.5.png)<br>

4. Редактирование файла с поиском и заменой слова:<br>
    * **VIM**: открываем файл с помощью команды `vim test_vim.txt`<br>
    * Для поиска в VIM вводим `/hsi` и искомое слово выделяется в самом редакторе<br>
    ![VIM](src/screen/part7.6.png)<br>
    * Для замены слова в VIM вводим `:%s/hsiuayes/21 School 21` и слово "hsiuayes" заменяется на "21 School 21"<br>
    ![VIM](src/screen/part7.7.png)<br>
    ![VIM](src/screen/part7.8.png)<br>

    * **NANO**: открываем файл с помощью команды `nano test_nano.txt`<br>
    * Для поиска в NANO вводим `ctrl+W`<br>
    ![NANO](src/screen/part7.9.png)<br>
    * Для замены слова в NANO вводим `ctrl+\`, пишем "hsiuayes", нажимаем `Enter`, пишем "21 School 21", нажимаем `Enter`, выбираем `Y`<br>
    ![NANO](src/screen/part7.10.png)<br>
    ![NANO](src/screen/part7.11.png)<br>
    ![NANO](src/screen/part7.12.png)<br>

    * **MCEDIT**: открываем файл с помощью команды `mcedit test_mcedit.txt`<br>
    * Для поиска в MCEDIT вводим `fn+F7`, вводим слово, которое хотим найти, нажимаем `Enter`<br>
    ![MCEDIT](src/screen/part7.13.png)<br>
    * И наше искомое слово выделяеся в редакторе<br>
    ![MCEDIT](src/screen/part7.14.png)<br>
    * Для замены слова в MCEDIT вводим `fn+F4` пишем "hsiuayes", нажимаем на клавишу "стрелка вниз", пишем "21 School 21", нажимаем `Enter`, выбираем `Replace`<br>
    ![MCEDIT](src/screen/part7.15.png)<br>
    ![MCEDIT](src/screen/part7.16.png)<br>
    ![MCEDIT](src/screen/part7.17.png)<br>

## Part 8. Установка и базовая настройка сервиса SSHD
1. Устанавливаем службу SSHd командой `sudo apt install openssh-server`<br>
    ![Команда для установки SSHd](src/screen/part8.png)<br>*Команда для установки SSHd*<br>
    * Проверяем наличие командой `ssh -V`<br>
    ![Служба SSHd](src/screen/part8.1.png)<br>*Служба SSHd*<br>

2. Добавляем автостарт службы SSHd командой `sudo update-rc.d ssh defaults`<br>
    ![Добавление автостарта](src/screen/part8.2.png)<br>*Добавление автостарта*<br>

3. Изменяем порт SSHd командой `sudo vim /etc/ssh/sshd_config`<br>
    * Заменяем `#Port 22` на `#Port 2022`.<br>
    ![Меняем порт 22 SSHd](src/screen/part8.3.png)<br>*Меняем порт 22 SSHd*<br>
    ![Меняем порт 22 на 2022 SSHd](src/screen/part8.4.png)<br>*Меняем порт 22 на 2022 SSHd*<br>
    * Для применения изменений используем команду `/etc/init.d/ssh restart`<br>
    ![Перезапуск](src/screen/part8.5.png)<br>*Перезапуск*<br>

4. Проверяем наличие процесса SSHd командой `ps -axfv | grep sshd`<br>
    ![Наличие процесса SSHd](src/screen/part8.6.png)<br>*Наличие процесса SSHd*<br>
    * Команда `ps` выводит список текущих процессов на вашем сервере. Используется обычно в сочетании с командой `grep`<br>
    * Флаги:<br>
        1) -a: Выбирает все процессы, кроме лидеров сеансов и процессов, не связанных с терминалом.<br>
        2) -x: Заставляет `ps` отображать список всех процессов, которыми вы владеете (тот же EUID, что и у `ps`), или перечислять все процессы при использовании вместе с опцией a<br>
        3) -f: Выводит полноформатный список<br>
        4) -v: Выводит информацию о версии<br>

5. Устанавливаем **net-tools** `sudo apt install net-tools`<br>
    ![Установка net-tools](src/screen/part8.7.png)<br>*Установка net-tools*<br>
    * Выполняем команду `netstat -tan`<br>
    ![Выполнение команды netstat -tan](src/screen/part8.8.png)<br>*Выполнение команды netstat -tan*<br>
    * Опция **-a** показывает состояние всех сокетов; **-n** показывает ip адрес, а не сетевое имя; **-t** показывает только tcp соединения.<br>
    * Значения столбцов:<br>
        1) Proto - протокол, используемый сокетом;<br>
        2) Recv-Q - количество байтов, не скопированных пользовательской программой, подключенной к этому сокету;<br>
        3) Local Address - локальный адрес (имя локального хоста) и номер порта сокета;<br>
        4) Foreign Address - удаленный адрес (имя удаленного хоста) и номер порта сокета;<br>
        5) State - состояние сокета;<br>
        6) 0.0.0.0 в этом контексте означает "все IP-адреса на локальной машине".<br>
    * Перезагружаем систему командой `sudo reboot`<br>

## Part 9. Установка и использование утилит **top**, **htop**
1. **top**:<br>
    * Запуск утилиты **top**<br>
    ![Запуск top](src/screen/part9.png)<br>
    * uptime:<br>
    ![uptime](src/screen/part9.1.png)<br>
    * количество авторизированных пользователей<br>
    ![количество авторизированных пользователей](src/screen/part9.2.png)<br>
    * общая загрузка системы<br>
    ![общая загрузка системы](src/screen/part9.3.png)<br>
    * общее количество процессов<br>
    ![общее количество процессов](src/screen/part9.4.png)<br>
    * загрузка cpu<br>
    ![загрузка cpu](src/screen/part9.5.png)<br>
    * загрузка памяти<br>
    ![загрузка памяти](src/screen/part9.6.png)<br>
    * pid процесса, занимающего больше всего памяти<br>
    ![pid процесса, занимающего больше всего памяти](src/screen/part9.7.png)<br>
    * pid процесса, занимающего больше всего процессорного времени<br>
    ![pid процесса, занимающего больше всего процессорного времени](src/screen/part9.8.png)<br>

2. **htop**:<br>
    * Запуск утилиты **htop** <br>
    ![Запуск htop](src/screen/part9.9.png)<br>
    * Для выбора поля сортировки использовать `F6`:
        * PID<br>
        ![PID](src/screen/part9.10.png)<br>
        * PERCENT_CPU<br>
        ![PERCENT_CPU](src/screen/part9.11.png)<br>
        * PERCENT_MEM<br>
        ![PERCENT_MEM](src/screen/part9.12.png)<br>
        * TIME<br>
        ![TIME](src/screen/part9.13.png)<br>
    * Для фильтра по SSHd используются клавиши `fn+F4`, `"sshd"`, `Enter`<br>![SSHd](src/screen/part9.14.png)<br>
    * Для поиска процессa syslog используются клавиши `fn+F3`, `"syslog"`, `Enter`<br>![Поиск syslog](src/screen/part9.15.png)<br>